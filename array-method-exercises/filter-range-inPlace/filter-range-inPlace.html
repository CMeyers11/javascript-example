<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Filter Range "in Place"</title>
</head>
<body>
    <label for="arrayInput">Array input</label>
        <input type="text"  id="array-input">
    <label for="bound-one">Bound 1</label>
        <input type="number" id="bound-one">
    <label for="bound-two">Bound 2</label>
        <input type="number" id="bound-two">
    <button id="submit">Submit Array</button>
    <p id="output-text"></p>


    <script>
        const elements = {
            submitButton: document.querySelector("#submit"),
            input: document.querySelector("#array-input"),
            boundOne: document.querySelector("#bound-one"),
            boundTwo: document.querySelector("#bound-two"),
            output: document.querySelector("#output-text"),
        }

                /* 1) listen for click, then
            2) make stringInput into an arrayInput variable
                i) take value of stringInput
                ii) split the string on the comma
                iii) make any elements into numbers  -> this will return:
                    a) numbers for strings that look like numbers (e.g., "5")
                    b) NaN for strings that don't look like numbers (e.g., "five", "s", "thr33")
                iv) filter out any NaN
            3) Run the function to check if an element falls outside the bounds
            4) Set outputText to the result 
            */
        
        elements.submitButton.addEventListener("click", () => {
            const stringInput = elements.input.value;
            const b1 = Number(elements.boundOne.value);
            const b2 = Number(elements.boundTwo.value);
            const arrayInput = stringToArray(stringInput);

            if (arrayInput.length === 0 || Number.isNaN(b1) || Number.isNaN(b2)) {
                elements.output.textContent = "Please enter a comma-separated list of numbers and two numeric bounds.";
                return;
            }

            filterRangeInPlace(arrayInput, b1, b2);
            
            elements.output.textContent= `${arrayInput.join(", ")}`;
            return;
        })
    
        
        
        
         
        function stringToArray(string) {
            let array = string
                    .split(",")
                    .map(item =>
                        Number(item.trim()))
                    .filter(item =>
                        !Number.isNaN(item));
            return array;
        }

        function filterRangeInPlace (arrayName, bound1, bound2) {
            let lowerBound;
            let upperBound;
            if (bound1 <=  bound2) {
                lowerBound = bound1;
                upperBound = bound2;
            } else {
                lowerBound = bound2;
                upperBound = bound1;
            }

           for (let index = 0; index < arrayName.length; index++) {
                let element = arrayName[index];
                if (element < lowerBound || element > upperBound){
                    arrayName.splice(index, 1);
                    --index;
                }
            }
        }

        //version 2 using filter 
              
       /* let exArray2 = [5, 10, 11, 12, 6];
        const b1 = 4;
        const b2 = 7;
        exArray2 = filterRangeUsingFilter(exArray2,b1,b2);
        alert(exArray2);
        function filterRangeUsingFilter(arrayName,bound1,bound2) {
            let upperBound = Math.max(bound1, bound2);
            let lowerBound = Math.min(bound1, bound2);
            return arrayName.filter(element => element >= lowerBound && element <= upperBound);
        
        }
        */
    </script>
</body>
</html>